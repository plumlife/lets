%%% -*- mode: erlang -*-

{require_min_otp_vsn, "R16"}.

{plugins, [
           {rebar_raw_resource,
            {git, "git://github.com/basho/rebar_raw_resource.git",
             {branch, "master"}}}
          ]}.

{pre_hooks,
 [{'get-deps', "c_src/build_deps.sh get_deps"},
  {"(linux|darwin|solaris)", compile, "make -C c_src"},
  {"(freebsd)", compile, "gmake -C c_src"}]}.
{post_hooks,
  [{"(linux|darwin|solaris)", clean, "make -C c_src clean"},
   {"(freebsd)", clean, "gmake -C c_src clean"}]}.

{erl_opts, [warnings_as_errors, warn_shadow_vars, warn_obsolete_guard]}.

{xref_checks, [undefined_function_calls, undefined_functions,
               deprecated_function_calls, deprecated_functions]}.

{deps, [{qc, "", {git, "git://github.com/norton/qc.git", {branch, "master"}}},
        {gen_ets, "", {git, "git://github.com/plumlife/gen-ets.git", {branch, "master"}}},
        {snappy,  {raw, {git, "git://github.com/google/snappy.git", {branch, "master"}}, [] }},
        {leveldb,  {raw, {git, "git://github.com/norton/leveldb.git", {branch, "master"}}, [] }},
        {hyperleveldb,  {raw, {git, "git://github.com/norton/HyperLevelDB.git", {branch, "master"}}, [] }},
        {rocksdb,  {raw, {git, "git://github.com/norton/rocksdb.git", {branch, "master"}}, [] }},
        {sext, "", {git, "git://github.com/norton/sext.git", {branch, "master"}}},
        {edown, "", {git, "git://github.com/norton/edown.git", {branch, "master"}}}
       ]}.
